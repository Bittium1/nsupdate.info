# tox configuration - if you change anything here, run this to verify:
# tox --recreate

[tox]
envlist = py{38,39,310}

[testenv]
deps =
    -rrequirements.d/dev.txt
# TODO: currently limited to one simple test until the environment is there to run them all
commands = py.test -v -rs -k "test_basic_auth" --cov=nsupdate --cov-config=.coveragerc --pyargs {posargs:nsupdate}
passenv = *

[testenv:flake8]
skip_sdist=true
skip_install=true
changedir =
deps =
    flake8
commands = flake8 src scripts conftest.py
